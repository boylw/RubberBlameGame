window.__require=function e(t,n,c){function i(o,r){if(!n[o]){if(!t[o]){var s=o.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!r&&u)return u(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+o+"'")}}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return i(t[o][1][e]||e)},l,l.exports,e,t,n,c)}return n[o].exports}for(var a="function"==typeof __require&&__require,o=0;o<c.length;o++)i(c[o]);return i}({gameOver:[function(e,t,n){"use strict";cc._RF.push(t,"7b4963Z1KNNy6IOw5a0Pz1/","gameOver");e("main");cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Label},beginBtn:{default:null,type:cc.Node}},onLoad:function(){var e="\u4f60\u7684\u5f97\u5206:"+cc.sys.localStorage.getItem("score")||0;this.score.string=e,cc.director.preloadScene("gameView"),this.beginBtn.on("touchstart",function(){cc.director.loadScene("gameView")})},start:function(){}}),cc._RF.pop()},{main:"main"}],gameStart:[function(e,t,n){"use strict";cc._RF.push(t,"505f0x+mwpN9IPJownKrPWy","gameStart"),cc.Class({extends:cc.Component,properties:{beginBtn:{default:null,type:cc.Node}},onLoad:function(){cc.director.preloadScene("gameView");var e=cc.scaleTo(.8,.8),t=cc.scaleTo(.8,1),n=cc.sequence(e,t),c=cc.repeatForever(n);this.beginBtn.runAction(c)},goScene:function(){cc.director.loadScene("gameView")},start:function(){}}),cc._RF.pop()},{}],main:[function(e,t,n){"use strict";cc._RF.push(t,"8ad6dzwEPZLMYcWJ6vR2EAS","main"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},snag:{default:null,type:cc.Prefab},timeOut:{default:null,type:cc.Label},gameScore:{default:null,type:cc.Label},bgMusic:{default:null,type:cc.AudioClip},jumpMusic:{default:null,type:cc.AudioClip},gameTime:60,score:0,floorWidth:80,snagCount:0,defaultSnagDir:250,flag:!0},addListerForWeb:function(){var e=this.node.width/2,t=this,n={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(n,c){return cc.audioEngine.playEffect(t.jumpMusic,!1),e>c.currentTouch._point.x?t.playerMoveFun("left"):t.playerMoveFun("right"),!0}};cc.eventManager.addListener(n,this.node)},playerMoveFun:function(e){if("right"==e){var t=this.player.x,n=cc.moveTo(.2,cc.v2(this.node.width/2-this.floorWidth+15,this.player.y)),c=cc.moveTo(.1,cc.v2(t-15,this.player.y)),i=cc.moveTo(.1,cc.v2(t,this.player.y));if(180==this.player.angle){var a=cc.sequence(c,i);this.player.runAction(a)}else this.player.runAction(n);this.player.angle=180}else{var o=this.player.x,r=cc.moveTo(.2,cc.v2(-this.node.width/2+this.floorWidth-15,this.player.y)),s=cc.moveTo(.2,cc.v2(o+15,this.player.y)),u=cc.moveTo(.2,cc.v2(o,this.player.y));if(360==this.player.angle||0==this.player.angle){var l=cc.sequence(s,u);this.player.runAction(l)}else this.player.runAction(r);this.player.angle=360,this.player.runAction(r)}this.createSnagRandom(),++this.score,this.gameScore.string=this.score,cc.sys.localStorage.setItem("score",this.score)},createSnagRandom:function(){var e=cc.instantiate(this.snag);this.node.addChild(e);var t=Math.random();e.angle=t>=.5?0:180,e.setPosition(this.createSnagPosition(t))},createSnagPosition:function(e){var t=0,n=0;return t=e>=.5?this.node.width/2-this.floorWidth:-this.node.width/2+this.floorWidth,n=this.snagCount<8?this.node.height/2-this.defaultSnagDir*this.snagCount++-1*this.defaultSnagDir:this.node.height/2-8*this.defaultSnagDir-1*this.defaultSnagDir,cc.v2(t,n)},onLoad:function(){cc.audioEngine.stopAll(),cc.audioEngine.play(this.bgMusic,!0),cc.audioEngine.stopMusic(),cc.audioEngine.setEffectsVolume(.2),this.snagCount=0,this.defaultSnagDir=250,this.player.x=-this.node.width/2+this.floorWidth-15,this.addListerForWeb();for(var e=0;e<8;e++)this.createSnagRandom();cc.director.preloadScene("gameOver"),this.schedule(function(){this.gameTime--,this.timeOut.string="\u5012\u8ba1\u65f6:"+this.gameTime+"s",this.gameTime<=0&&cc.director.loadScene("gameOver")},1)},update:function(e){cc.find("Canvas/snag").y+cc.find("Canvas/snag").width/2>this.node.height/2&&this.node.removeChild(cc.find("Canvas/snag")),cc.find("Canvas/snag").y+cc.find("Canvas/snag").height/2>cc.find("Canvas/gameHome/hreo").y&&++this.snagCount}}),cc._RF.pop()},{}],player:[function(e,t,n){"use strict";cc._RF.push(t,"f7e93qkzsZNipSONeVejHnL","player"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],snag:[function(e,t,n){"use strict";cc._RF.push(t,"4f809SR6xpOBplWsbqnf+RA","snag");var c=e("player");cc.Class({extends:cc.Component,properties:{HeroDid:{default:null,type:cc.AudioClip}},snagRunAction:function(){var e=this,t=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(){var t=cc.moveBy(.2,cc.v2(0,85));return e.node.runAction(t),!0}});cc.eventManager.addListener(t,e.node)},onLoad:function(){this.snagRunAction()},start:function(){},update:function(e){var t=cc.find("Canvas/gameHome/hreo").getComponent(c).node.getBoundingBoxToWorld(),n=this.node.getBoundingBoxToWorld();t.intersects(n)&&(cc.audioEngine.playEffect(this.HeroDid,!1),cc.director.loadScene("gameOver"))}}),cc._RF.pop()},{player:"player"}]},{},["gameOver","gameStart","main","player","snag"]);